<div id="adminPanel" class="fixed inset-0 bg-black bg-opacity-75 z-50 hidden">
  <div class="flex items-center justify-center min-h-screen p-4">
    <div
      class="bg-white rounded-md shadow-xl w-full max-w-lg max-h-[90vh] overflow-hidden"
    >
      <div
        class="bg-congo-green text-white p-6 flex justify-between items-center"
      >
        <h3 class="text-xl font-bold">Administration</h3>
        <button
          onclick="closeAdminPanel()"
          class="text-white hover:text-congo-red transition"
        >
          <i class="fas fa-times text-xl"></i>
        </button>
      </div>

      <div class="overflow-y-auto max-h-[70vh]">
        <!-- Admin Login Form -->
        <div id="loginForm" class="p-8">
          <div class="mb-2">
            <label
              for="adminUsername"
              class="block text-gray-800 font-medium mb-1"
              >Nom d'utilisateur</label
            >
            <div class="relative">
              <input
                type="text"
                id="adminUsername"
                class="w-full py-2 px-4 focus:outline-none text-sm text-gray-700 placeholder-text-gray-600 font-medium border-2 border-gray-200 rounded-md bg-[#EEF1F5] transition-all duration-200 pr-10"
              />
              <span class="absolute right-3 top-2 text-gray-500">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="h-5 w-5"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"
                  />
                </svg>
              </span>
            </div>
          </div>
          <div class="mb-6">
            <label
              for="adminPassword"
              class="block text-gray-800 font-medium mb-1"
              >Mot de passe</label
            >
            <div class="relative">
              <input
                type="password"
                id="adminPassword"
                class="w-full py-2 px-4 focus:outline-none text-sm text-gray-700 placeholder-text-gray-600 font-medium border-2 border-gray-200 rounded-md bg-[#EEF1F5] transition-all duration-200 pr-10"
              />
              <button
                type="button"
                onclick="togglePassword()"
                class="absolute right-3 top-2 text-gray-500 focus:outline-none"
                aria-label="Afficher le mot de passe"
              >
                <svg
                  id="eyeIcon"
                  xmlns="http://www.w3.org/2000/svg"
                  class="h-5 w-5"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"
                  />
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"
                  />
                </svg>
                <svg
                  id="eyeSlashIcon"
                  xmlns="http://www.w3.org/2000/svg"
                  class="h-5 w-5 hidden"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"
                  />
                </svg>
              </button>
            </div>
          </div>
          <button
            onclick="loginAdmin()"
            class="w-full bg-congo-green hover:bg-green-800 text-white font-bold py-2 px-8 rounded-md transition duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-green-700 focus:ring-opacity-50"
          >
            Se connecter
          </button>
        </div>

        <!-- Admin Dashboard -->
        <div id="adminDashboard" class="hidden p-6">
          <div
            class="flex flex-col sm:flex-row justify-between items-center mb-6 gap-4"
          >
            <h4 class="text-lg font-bold text-congo-green">
              Gestion des inscriptions
            </h4>
            <div class="flex gap-2">
              <button
                onclick="exportToCSV()"
                class="bg-congo-green hover:bg-green-800 text-white font-medium py-2 px-4 rounded-lg transition duration-300"
              >
                <i class="fas fa-file-export mr-2"></i>Exporter
              </button>
              <button
                onclick="logoutAdmin()"
                class="bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-2 px-4 rounded-lg transition duration-300"
              >
                <i class="fas fa-sign-out-alt mr-2"></i>Déconnexion
              </button>
            </div>
          </div>

          <div class="relative mb-6">
            <div
              class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"
            >
              <i class="fas fa-search text-gray-400"></i>
            </div>
            <input
              type="text"
              id="searchRegistrations"
              placeholder="Rechercher des inscriptions..."
              class="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-congo-green focus:border-transparent"
            />
          </div>

          <div class="overflow-x-auto rounded-lg border border-gray-200">
            <table class="min-w-full bg-white">
              <thead class="bg-gray-50">
                <tr>
                  <th class="py-3 px-4 text-left text-gray-700 font-semibold">
                    Nom
                  </th>
                  <th class="py-3 px-4 text-left text-gray-700 font-semibold">
                    Email
                  </th>
                  <th class="py-3 px-4 text-left text-gray-700 font-semibold">
                    Téléphone
                  </th>
                  <th class="py-3 px-4 text-left text-gray-700 font-semibold">
                    Activités
                  </th>
                  <th class="py-3 px-4 text-left text-gray-700 font-semibold">
                    Actions
                  </th>
                </tr>
              </thead>
              <tbody
                id="registrationsTableBody"
                class="divide-y divide-gray-200"
              >
                <!-- Dynamic content will be inserted here -->
                <tr>
                  <td colspan="5" class="py-8 px-4 text-center text-gray-500">
                    Chargement des données...
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
